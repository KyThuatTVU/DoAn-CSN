<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tác Phẩm Văn Học Việt Nam Tiêu Biểu</title>
    <!-- Link to Tailwind CSS (use CDN or your local setup) -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        /* Optional: Style for the modal scrollbar if content is long */
        #modalContentBox::-webkit-scrollbar {
            width: 8px;
        }
        #modalContentBox::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        #modalContentBox::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        #modalContentBox::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Ensure consistent card height using flexbox */
        .book-card {
            display: flex;
            flex-direction: column;
        }
        .book-card .card-content {
            flex-grow: 1; /* Allows text content area to grow */
            display: flex;
            flex-direction: column;
        }
        .book-card .card-content p.description {
            flex-grow: 1; /* Allows description itself to grow */
        }
        .book-card .card-content button {
            margin-top: auto; /* Pushes button to the bottom */
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">

    <header class="bg-gradient-to-r from-indigo-600 to-purple-700 text-white py-6 shadow-md">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-4xl font-bold">Thư Viện Văn Học Việt Nam</h1>
            <p class="mt-2 text-lg">Khám phá những tác phẩm tiêu biểu</p>
        </div>
    </header>

    <main>
        <section id="tac-pham" class="py-12">
            <div class="container mx-auto px-4">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-10 text-gray-800">Các Tác Phẩm Nổi Bật</h2>

                <!-- Literary Works Grid -->
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">

                    <!-- Card 1: Truyện Kiều -->
                    <div class="book-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-xl">
                        <div class="h-64 overflow-hidden flex-shrink-0 bg-gray-200">
                            <img src="img/TuyemKieu.jpg" alt="Bìa sách Truyện Kiều" class="w-full h-full object-contain object-center p-2">
                        </div>
                        <div class="p-4 text-center card-content">
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Truyện Kiều</h3>
                            <p class="text-sm text-gray-600 mb-4">Nguyễn Du</p>
                            <button class="view-details-btn px-4 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition duration-300" data-id="truyenkieu">Xem Chi Tiết</button>
                        </div>
                    </div>

                    <!-- Card 2: Số Đỏ -->
                    <div class="book-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-xl">
                        <div class="h-64 overflow-hidden flex-shrink-0 bg-gray-200">
                            <img src="img/sodo.jpeg" alt="Bìa sách Số Đỏ" class="w-full h-full object-contain object-center p-2">
                        </div>
                        <div class="p-4 text-center card-content">
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Số Đỏ</h3>
                            <p class="text-sm text-gray-600 mb-4">Vũ Trọng Phụng</p>
                            <button class="view-details-btn px-4 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition duration-300" data-id="sodo">Xem Chi Tiết</button>
                        </div>
                    </div>

                    <!-- Card 3: Tắt Đèn -->
                    <div class="book-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-xl">
                        <div class="h-64 overflow-hidden flex-shrink-0 bg-gray-200">
                            <img src="img/Tắt_đèn-Nhã_Nam.jpeg" alt="Bìa sách Tắt Đèn" class="w-full h-full object-contain object-center p-2">
                        </div>
                        <div class="p-4 text-center card-content">
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Tắt Đèn</h3>
                            <p class="text-sm text-gray-600 mb-4">Ngô Tất Tố</p>
                            <button class="view-details-btn px-4 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition duration-300" data-id="tatden">Xem Chi Tiết</button>
                        </div>
                    </div>

                    <!-- Card 4: Chí Phèo -->
                    <div class="book-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-xl">
                        <div class="h-64 overflow-hidden flex-shrink-0 bg-gray-200">
                            <img src="img/chi-pheo_72e3f1370e484cf49b0fc94ee4ce0f80_master.webp" alt="Bìa sách Chí Phèo" class="w-full h-full object-contain object-center p-2">
                        </div>
                        <div class="p-4 text-center card-content">
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Chí Phèo</h3>
                            <p class="text-sm text-gray-600 mb-4">Nam Cao</p>
                            <button class="view-details-btn px-4 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition duration-300" data-id="chipheo">Xem Chi Tiết</button>
                        </div>
                    </div>

                    <!-- Card 5: Dế Mèn Phiêu Lưu Ký -->
                     <div class="book-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-xl">
                        <div class="h-64 overflow-hidden flex-shrink-0 bg-gray-200">
                            <img src="img/de-men-phieu-luu-ky.jpg" alt="Bìa sách Dế Mèn Phiêu Lưu Ký" class="w-full h-full object-contain object-center p-2">
                        </div>
                        <div class="p-4 text-center card-content">
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Dế Mèn Phiêu Lưu Ký</h3>
                            <p class="text-sm text-gray-600 mb-4">Tô Hoài</p>
                            <button class="view-details-btn px-4 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition duration-300" data-id="demen">Xem Chi Tiết</button>
                        </div>
                    </div>

                    <!-- Card 6: Mắt Biếc -->
                    <div class="book-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-xl">
                        <div class="h-64 overflow-hidden flex-shrink-0 bg-gray-200">
                           <img src="img/mat-biec.jpg" alt="Bìa sách Mắt Biếc" class="w-full h-full object-contain object-center p-2">
                        </div>
                        <div class="p-4 text-center card-content">
                           <h3 class="text-lg font-semibold text-gray-900 mb-1">Mắt Biếc</h3>
                           <p class="text-sm text-gray-600 mb-4">Nguyễn Nhật Ánh</p>
                           <button class="view-details-btn px-4 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition duration-300" data-id="matbiec">Xem Chi Tiết</button>
                        </div>
                    </div>

                    <!-- Card 7: Cánh Đồng Bất Tận -->
                    <div class="book-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-xl">
                        <div class="h-64 overflow-hidden flex-shrink-0 bg-gray-200">
                           <img src="img/canh-dong-bat-tan.jpg" alt="Bìa sách Cánh Đồng Bất Tận" class="w-full h-full object-contain object-center p-2">
                        </div>
                        <div class="p-4 text-center card-content">
                           <h3 class="text-lg font-semibold text-gray-900 mb-1">Cánh Đồng Bất Tận</h3>
                           <p class="text-sm text-gray-600 mb-4">Nguyễn Ngọc Tư</p>
                           <button class="view-details-btn px-4 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition duration-300" data-id="canhdong">Xem Chi Tiết</button>
                        </div>
                    </div>

                     <!-- Card 8: Nỗi Buồn Chiến Tranh -->
                    <div class="book-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300 hover:shadow-xl">
                        <div class="h-64 overflow-hidden flex-shrink-0 bg-gray-200">
                            <img src="img/noi-buon-chien-tranh.jpg" alt="Bìa sách Nỗi Buồn Chiến Tranh" class="w-full h-full object-contain object-center p-2">
                        </div>
                        <div class="p-4 text-center card-content">
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Nỗi Buồn Chiến Tranh</h3>
                            <p class="text-sm text-gray-600 mb-4">Bảo Ninh</p>
                            <button class="view-details-btn px-4 py-2 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 transition duration-300" data-id="noibuon">Xem Chi Tiết</button>
                        </div>
                    </div>


                    <!-- ========================================== -->
                    <!-- ADD MORE BOOK CARDS HERE (Copy the structure above) -->
                    <!-- Remember to: -->
                    <!-- 1. Change the image src and alt text -->
                    <!-- 2. Change the h3 title -->
                    <!-- 3. Change the author paragraph -->
                    <!-- 4. CHANGE THE data-id attribute on the button to a UNIQUE ID -->
                    <!-- 5. Add a corresponding entry in the bookDetails object in the script below -->
                    <!-- Repeat this pattern until you have ~50 cards -->
                    <!-- ========================================== -->

                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-gray-400 text-center py-4 mt-12">
        <p>© 2023 Thư Viện Văn Học Việt Nam. All rights reserved.</p>
    </footer>

    <!-- Modal Structure (Initially Hidden) -->
    <div id="bookModal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out">
        <div id="modalContentBox" class="bg-white rounded-lg shadow-xl max-w-3xl w-full p-6 md:p-8 relative max-h-[90vh] overflow-y-auto transform transition-transform duration-300 ease-in-out scale-95">
            <!-- Close Button -->
            <button id="closeModalBtn" class="absolute top-3 right-4 text-gray-500 hover:text-gray-900 text-3xl font-light leading-none">×</button>

            <!-- Modal Content -->
            <div class="flex flex-col md:flex-row gap-6">
                <div class="flex-shrink-0 w-full md:w-1/3">
                     <img id="modalImage" src="" alt="Book Cover" class="w-full h-auto rounded shadow-md object-contain max-h-80">
                </div>
                <div class="flex-grow">
                    <h3 id="modalTitle" class="text-2xl md:text-3xl font-bold mb-2 text-gray-900"></h3>
                    <p id="modalAuthor" class="text-lg text-gray-700 mb-4 font-medium"></p>
                    <div id="modalDescription" class="text-base text-gray-800 space-y-3 leading-relaxed">
                        <!-- Detailed description goes here -->
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Select Modal Elements
            const modal = document.getElementById('bookModal');
            const modalContentBox = document.getElementById('modalContentBox');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const modalTitle = document.getElementById('modalTitle');
            const modalImage = document.getElementById('modalImage');
            const modalAuthor = document.getElementById('modalAuthor');
            const modalDescription = document.getElementById('modalDescription');
            const viewDetailsButtons = document.querySelectorAll('.view-details-btn');

            // --- ============================================ ---
            // --- !!! IMPORTANT: BOOK DETAILS DATA GOES HERE !!! ---
            // --- ============================================ ---
            // ADD AN ENTRY FOR *EVERY* BOOK CARD YOU CREATED ABOVE.
            // The key (e.g., 'truyenkieu') MUST match the 'data-id' on the button.
            const bookDetails = {
                truyenkieu: {
                    title: "Truyện Kiều",
                    author: "Nguyễn Du",
                    image: "img/TuyemKieu.jpg", // Use the same image or a larger version if available
                    description: `
                        <p><strong>Truyện Kiều</strong>, tên gốc là <strong>Đoạn Trường Tân Thanh</strong>, là một truyện thơ của đại thi hào Nguyễn Du. Đây được xem là truyện thơ nổi tiếng nhất và được coi là tinh hoa của văn học Việt Nam, được viết bằng thể thơ lục bát.</p>
                        <p>Tác phẩm gồm 3.254 câu thơ, kể về cuộc đời và số phận bi thương của Thúy Kiều, một người con gái tài sắc vẹn toàn nhưng vì gia biến phải bán mình chuộc cha, dẫn đến 15 năm lưu lạc đầy đoạn trường. Qua đó, tác phẩm phản ánh sâu sắc hiện thực xã hội phong kiến bất công, đồng thời thể hiện giá trị nhân đạo cao cả: tiếng nói lên án thế lực tàn bạo, tiếng nói đồng cảm với những số phận bi kịch, và tiếng nói khẳng định tài năng, nhân phẩm và khát vọng hạnh phúc của con người.</p>
                        <p><em>"Trăm năm trong cõi người ta,<br>Chữ tài chữ mệnh khéo là ghét nhau."</em></p>
                    `
                },
                sodo: {
                    title: "Số Đỏ",
                    author: "Vũ Trọng Phụng",
                    image: "img/sodo.jpeg",
                    description: `
                        <p><strong>Số Đỏ</strong> là một tiểu thuyết trào phúng kinh điển của nhà văn Vũ Trọng Phụng, một trong những tác phẩm lớn nhất của văn học Việt Nam giai đoạn 1930-1945.</p>
                        <p>Tiểu thuyết xoay quanh nhân vật chính Xuân Tóc Đỏ, từ một kẻ ma cà bông hạ lưu, nhờ sự may mắn đến khó tin ("số đỏ") và tài năng luồn lách, bịp bợm trong một xã hội thượng lưu rởm đời, Âu hóa lố lăng ở Hà Nội, đã leo lên những nấc thang danh vọng không tưởng. Tác phẩm là bức tranh châm biếm sâu cay về xã hội Việt Nam thời Pháp thuộc, phơi bày sự giả dối, thối nát và đảo lộn giá trị của tầng lớp "tai to mặt lớn".</p>
                        <p>Với giọng văn sắc sảo, tình huống hài hước độc đáo và khả năng xây dựng nhân vật điển hình, Số Đỏ khẳng định tài năng bậc thầy của Vũ Trọng Phụng.</p>
                    `
                },
                tatden: {
                    title: "Tắt Đèn",
                    author: "Ngô Tất Tố",
                    image: "img/Tắt_đèn-Nhã_Nam.jpeg",
                    description: `
                        <p><strong>Tắt Đèn</strong> là tiểu thuyết hiện thực phê phán tiêu biểu của nhà văn Ngô Tất Tố, khắc họa chân thực và cảm động cuộc sống cùng khổ, bế tắc của người nông dân Việt Nam dưới ách sưu thuế và cường hào áp bức thời Pháp thuộc.</p>
                        <p>Nhân vật chính là chị Dậu, một phụ nữ nông dân nghèo, tần tảo, giàu lòng yêu thương chồng con. Vì món sưu thuế vô lý của chồng, chị phải trải qua những cảnh ngộ đau đớn: bán con, bán chó, bán sữa và cuối cùng là hành động phản kháng quyết liệt khi chống lại tên cai lệ. Tác phẩm đã tố cáo mạnh mẽ xã hội thực dân phong kiến bất nhân, đồng thời ca ngợi vẻ đẹp tâm hồn và sức sống tiềm tàng của người nông dân.</p>
                        <p>Hình ảnh chị Dậu đã trở thành một biểu tượng bất hủ trong văn học Việt Nam.</p>
                    `
                },
                chipheo: {
                    title: "Chí Phèo",
                    author: "Nam Cao",
                    image: "img/chi-pheo_72e3f1370e484cf49b0fc94ee4ce0f80_master.webp",
                    description: `
                        <p><strong>Chí Phèo</strong> là một truyện ngắn xuất sắc của nhà văn Nam Cao, đỉnh cao của trào lưu văn học hiện thực phê phán Việt Nam 1930-1945.</p>
                        <p>Tác phẩm là bi kịch về sự tha hóa của người nông dân lương thiện trong xã hội cũ. Chí Phèo vốn là người hiền lành, nhưng bị những thế lực đen tối (nhà tù thực dân, cường hào địa phương) đẩy vào con đường lưu manh hóa, trở thành "con quỷ dữ" của làng Vũ Đại, mất cả nhân hình lẫn nhân tính. Khát vọng hoàn lương nhen nhóm khi gặp Thị Nở đã bị định kiến xã hội lạnh lùng dập tắt, dẫn đến cái chết bi thảm của Chí.</p>
                        <p>Nam Cao đã đặt ra những vấn đề nhân sinh sâu sắc về quyền làm người và bi kịch bị từ chối quyền làm người.</p>
                    `
                },
                 demen: {
                    title: "Dế Mèn Phiêu Lưu Ký",
                    author: "Tô Hoài",
                    image: "img/de-men-phieu-luu-ky.jpg",
                    description: `
                        <p><strong>Dế Mèn Phiêu Lưu Ký</strong> là tác phẩm văn xuôi đặc sắc và nổi tiếng nhất của nhà văn Tô Hoài viết về loài vật, dành cho lứa tuổi thiếu nhi.</p>
                        <p>Truyện kể về những cuộc phiêu lưu của chú Dế Mèn qua thế giới muôn màu muôn vẻ của các loài vật. Ban đầu, Mèn là một chàng dế thanh niên cường tráng nhưng kiêu căng, hung hăng, gây ra cái chết oan uổng cho Dế Choắt. Sau bài học đó, Mèn quyết tâm lên đường phiêu lưu để mở rộng tầm mắt và trải nghiệm cuộc sống. Qua những khó khăn, thử thách, gặp gỡ nhiều bạn bè tốt và cả những kẻ xấu, Dế Mèn dần trưởng thành, hiểu biết hơn, trở nên chín chắn, dũng cảm và giàu lòng nhân ái.</p>
                        <p>Tác phẩm không chỉ hấp dẫn bởi cốt truyện ly kỳ mà còn chứa đựng nhiều bài học giá trị về tình bạn, lòng dũng cảm, sự khiêm tốn và ý chí vươn lên.</p>
                    `
                },
                matbiec: {
                    title: "Mắt Biếc",
                    author: "Nguyễn Nhật Ánh",
                    image: "img/mat-biec.jpg",
                    description: `
                        <p><strong>Mắt Biếc</strong> là một trong những tiểu thuyết nổi tiếng và được yêu thích nhất của nhà văn Nguyễn Nhật Ánh, viết về đề tài tình yêu tuổi học trò trong sáng nhưng cũng đầy day dứt.</p>
                        <p>Câu chuyện là dòng hồi tưởng của nhân vật chính tên Ngạn về mối tình đơn phương sâu đậm dành cho Hà Lan, cô bạn gái có đôi mắt tuyệt đẹp ("mắt biếc") từ thuở ấu thơ ở làng Đo Đo. Tình yêu của Ngạn bền bỉ, thủy chung qua bao năm tháng, chứng kiến những đổi thay, những lựa chọn và cả những nỗi buồn của Hà Lan nơi thành thị phồn hoa. Mối tình ấy tuy không thành nhưng vẫn đẹp đẽ, lãng mạn và ám ảnh người đọc.</p>
                        <p>Với giọng văn nhẹ nhàng, giàu cảm xúc, khung cảnh làng quê yên bình, Mắt Biếc đã chạm đến trái tim của nhiều thế hệ độc giả.</p>
                    `
                },
                canhdong: {
                    title: "Cánh Đồng Bất Tận",
                    author: "Nguyễn Ngọc Tư",
                    image: "img/canh-dong-bat-tan.jpg",
                    description: `
                        <p><strong>Cánh Đồng Bất Tận</strong> là tập truyện ngắn gây tiếng vang lớn của nhà văn Nguyễn Ngọc Tư, mang đậm hơi thở và sắc màu của vùng đất Nam Bộ.</p>
                        <p>Truyện ngắn cùng tên kể về cuộc sống lênh đênh sông nước của hai chị em Nương và Điền cùng người cha Út Võ cục cằn, hận đời sau khi bị vợ phản bội. Cuộc gặp gỡ với cô gái điếm tên Sương đã làm xáo trộn cuộc sống vốn nhiều đau khổ của họ, hé lộ những góc khuất tâm hồn, những bi kịch và cả những tia sáng le lói của tình người, lòng vị tha giữa mênh mông sông nước.</p>
                        <p>Với ngôn ngữ mộc mạc, giàu hình ảnh và khả năng thấu hiểu tâm lý nhân vật sâu sắc, Nguyễn Ngọc Tư đã tạo nên một tác phẩm ám ảnh, đầy chất thơ và thấm đẫm tình người về thân phận con người nơi miệt vườn sông nước.</p>
                    `
                },
                 noibuon: {
                    title: "Nỗi Buồn Chiến Tranh",
                    author: "Bảo Ninh",
                    image: "img/noi-buon-chien-tranh.jpg",
                    description: `
                        <p><strong>Nỗi Buồn Chiến Tranh</strong> (tên ban đầu là <strong>Thân phận của tình yêu</strong>) là tiểu thuyết gây chấn động của nhà văn Bảo Ninh, một tác phẩm xuất sắc viết về chiến tranh từ góc nhìn cá nhân đầy ám ảnh và nhân bản.</p>
                        <p>Tác phẩm là dòng hồi ức đan xen, phi tuyến tính của Kiên, một người lính trở về từ cuộc chiến tranh Việt Nam. Anh vật lộn với những ký ức đau thương, mất mát về đồng đội, về mối tình đầu với Phương, và nỗi cô đơn, lạc lõng trong cuộc sống thời hậu chiến. Tiểu thuyết không né tránh hiện thực khốc liệt, tàn bạo của chiến tranh, mà đi sâu vào nỗi đau, sự tổn thương và những di chứng tâm lý dai dẳng nó để lại cho con người.</p>
                        <p>Nỗi Buồn Chiến Tranh được đánh giá cao bởi chiều sâu tư tưởng, bút pháp nghệ thuật độc đáo và giá trị nhân văn sâu sắc, là một trong những tác phẩm quan trọng nhất của văn học Việt Nam thời kỳ đổi mới.</p>
                    `
                }

                // --- ADD MORE BOOK ENTRIES HERE ---
                // Example:
                // your_unique_data_id: {
                //     title: "Tên Sách",
                //     author: "Tên Tác Giả",
                //     image: "img/ten_file_anh.jpg",
                //     description: `
                //         <p>Đoạn văn giới thiệu thứ nhất.</p>
                //         <p>Đoạn văn giới thiệu thứ hai, có thể dùng <strong>in đậm</strong> hoặc <em>in nghiêng</em>.</p>
                //     `
                // },
                // ... continue for all ~50 books
            };
            // --- End of Book Details Data ---


            // Function to open the modal
            function openModal(bookId) {
                const details = bookDetails[bookId]; // Get details based on button's data-id
                if (modal && details) {
                    // Populate modal content
                    modalTitle.textContent = details.title;
                    modalImage.src = details.image || 'img/placeholder.jpg'; // Use placeholder if no image
                    modalImage.alt = `Bìa sách ${details.title}`;
                    modalAuthor.textContent = `Tác giả: ${details.author}`;
                    modalDescription.innerHTML = details.description; // Use innerHTML for formatted text

                    // Show the modal with animation
                    modal.classList.remove('hidden');
                    setTimeout(() => { // Short delay allows CSS transition to catch up
                       modal.classList.remove('opacity-0');
                       modalContentBox.classList.remove('scale-95');
                    }, 10); // Small delay

                    // Prevent background scrolling when modal is open
                    document.body.style.overflow = 'hidden';

                } else {
                    console.warn(`No details found for book ID: ${bookId} or modal element not found.`);
                }
            }

            // Function to close the modal
            function closeModal() {
                if (modal) {
                     // Add animation classes back
                    modal.classList.add('opacity-0');
                    modalContentBox.classList.add('scale-95');
                    // Wait for animation to finish before hiding
                    setTimeout(() => {
                        modal.classList.add('hidden');
                     }, 300); // Match duration-300

                    // Allow background scrolling again
                     document.body.style.overflow = '';
                }
            }

            // Add click listeners to all "Xem Chi Tiết" buttons
            viewDetailsButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const bookId = button.getAttribute('data-id');
                    openModal(bookId);
                });
            });

            // Add click listener to close button
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', closeModal);
            }

            // Add click listener to modal background (to close when clicking outside content)
            if (modal) {
                modal.addEventListener('click', (event) => {
                    if (event.target === modal) { // Check if the click is directly on the dark background
                        closeModal();
                    }
                });
            }

            // Optional: Close modal on Escape key press
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeModal();
                }
            });

        }); // End of DOMContentLoaded listener
    </script>

</body>
</html>