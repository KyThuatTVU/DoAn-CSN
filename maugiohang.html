<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·ªè h√†ng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/x-icon" href="img/·∫©M TH·ª∞C.png" />
     <!-- Tailwind CSS CDN -->
     <script src="https://cdn.tailwindcss.com"></script>
     <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
 
 
     <!-- Google Font: Audiowide -->
     <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet" />
     <link rel="icon" type="image/x-icon" href="img/·∫©M TH·ª∞C.png" />
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<div class="bg-gray-100 flex justify-center items-center min-h-screen">
    <div id="cart" class="mt-8 bg-gray-50 border border-gray-300 shadow-lg rounded-xl p-12 w-full max-w-6xl">
        <!-- Heading -->
        <h2 class="text-5xl font-extrabold text-[#5a4036] tracking-wide border-b-4 border-[#5a4036] pb-4 mb-8">
            üõí Gi·ªè h√†ng c·ªßa b·∫°n
        </h2>
        
        <!-- Cart Items -->
        <ul id="cart-items" class="space-y-8">
            <li class="text-xl text-gray-500 italic">Gi·ªè h√†ng ƒëang tr·ªëng</li>
        </ul>
        
        <!-- Total Amount -->
        <div class="mt-12 flex justify-between items-center">
            <p class="text-3xl font-semibold text-[#5a4036]">T·ªïng ti·ªÅn:</p>
            <span id="cart-total" class="text-5xl font-bold text-[#5a4036]">0 VNƒê</span>
        </div>
        
               <!-- Checkout Form -->
               <form id="checkout-form" class="mt-12 space-y-6">
                <div>
                    <label class="block text-lg font-medium text-[#5a4036]" for="full-name">H·ªç v√† t√™n:</label>
                    <input id="full-name" type="text" class="border border-gray-300 rounded-lg w-full p-4" required>
                </div>
                <div>
                    <label class="block text-lg font-medium text-[#5a4036]" for="phone-number">S·ªë ƒëi·ªán tho·∫°i:</label>
                    <input id="phone-number" type="tel" class="border border-gray-300 rounded-lg w-full p-4" required>
                </div>
                <div>
                    <label class="block text-lg font-medium text-[#5a4036]" for="account-number">S·ªë t√†i kho·∫£n:</label>
                    <input id="account-number" type="text" class="border border-gray-300 rounded-lg w-full p-4" required>
                </div>
                <div>
                    <label class="block text-lg font-medium text-[#5a4036]" for="email">Email:</label>
                    <input id="email" type="email" class="border border-gray-300 rounded-lg w-full p-4" required>
                </div>
                <div>
                    <label class="block text-lg font-medium text-[#5a4036]" for="address">ƒê·ªãa ch·ªâ:</label>
                    <input id="address" type="text" class="border border-gray-300 rounded-lg w-full p-4" required>
                </div>
                <div class="mt-8 flex justify-center">
                    <button 
                        type="submit" 
                        class="bg-[#5a4036] text-white py-4 px-8 rounded-xl font-medium text-2xl hover:bg-[#734f42] transition">
                        G·ª≠i
                    </button>
                </div>
                <p class="text-center text-[#5a4036] text-sm mt-4">Vui l√≤ng c·ªçc tr∆∞·ªõc 50% gi√° tr·ªã ƒë∆°n h√†ng ƒë·ªÉ ƒë∆∞·ª£c duy·ªát ƒë∆°n.</p>
            
                <!-- Payment Section with QR Code (Always Visible) -->
                <div id="payment-section" class="mt-12 text-center">
                    <p class="text-lg font-medium text-[#5a4036]">Vui l√≤ng thanh to√°n:</p>
                    <div class="mt-4 bg-white p-6 rounded-lg shadow-xl max-w-xs mx-auto">
                        <img 
                            src="https://luuanh.vercel.app/amthucphuongnam/3.jpg" 
                            alt="QR Code" 
                            class="rounded-md max-w-full border border-gray-300"
                        />
                    </div>
                </div>
            </form>
            
           
            
        </div>
    </div>
    



<script>
    // L·∫•y gi·ªè h√†ng t·ª´ localStorage
const cart = JSON.parse(localStorage.getItem('cart')) || [];

// H√†m th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng
function addToCart(name, price) {
    const existingProduct = cart.find(item => item.name === name);

    if (existingProduct) {
        existingProduct.quantity++;
    } else {
        cart.push({ name, price, quantity: 1 });
    }

    // L∆∞u gi·ªè h√†ng v√†o localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    updateCartUI();
}

// H√†m x√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng
function removeFromCart(name) {
    const index = cart.findIndex(item => item.name === name);
    if (index !== -1) {
        cart.splice(index, 1); // Lo·∫°i b·ªè s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng
    }

    // L∆∞u gi·ªè h√†ng c·∫≠p nh·∫≠t v√†o localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    updateCartUI();
}

// H√†m c·∫≠p nh·∫≠t giao di·ªán gi·ªè h√†ng
function updateCartUI() {
    const cartItems = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');

    cartItems.innerHTML = ''; // X√≥a c√°c m·ª•c hi·ªán t·∫°i trong gi·ªè h√†ng
    let total = 0;

    // Hi·ªÉn th·ªã s·∫£n ph·∫©m trong gi·ªè h√†ng
    cart.forEach(item => {
        const li = document.createElement('li');
        li.className = 'flex justify-between items-center text-sm text-gray-600';
        
        li.innerHTML = `
            <span>${item.name} - ${item.quantity} x ${item.price.toLocaleString()} VNƒê</span>
            <button onclick="removeFromCart('${item.name}')" class="text-red-500 hover:text-red-700">X√≥a</button>
        `;

        cartItems.appendChild(li);
        total += item.price * item.quantity;
    });

    // N·∫øu gi·ªè h√†ng tr·ªëng
    if (cart.length === 0) {
        cartItems.innerHTML = '<li class="text-lg text-gray-500 italic">Gi·ªè h√†ng ƒëang tr·ªëng</li>';
    }

    // C·∫≠p nh·∫≠t t·ªïng ti·ªÅn
    cartTotal.textContent = total.toLocaleString();
}

// G·ªçi h√†m c·∫≠p nh·∫≠t gi·ªè h√†ng khi trang ƒë∆∞·ª£c t·∫£i
document.addEventListener('DOMContentLoaded', updateCartUI);

// G·∫Øn s·ª± ki·ªán cho c√°c n√∫t "Th√™m v√†o gi·ªè h√†ng"
document.querySelectorAll('.add-to-cart-btn').forEach(button => {
    button.addEventListener('click', (event) => {
        const productElement = event.target.closest('.product-item');
        const name = productElement.getAttribute('data-name');
        const price = parseInt(productElement.getAttribute('data-price'), 10);

        addToCart(name, price);
    });
});
// H√†m c·∫≠p nh·∫≠t giao di·ªán gi·ªè h√†ng v·ªõi n√∫t x√≥a ƒë·∫πp h∆°n
function updateCartUI() {
    const cartItems = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');

    cartItems.innerHTML = ''; // X√≥a c√°c m·ª•c hi·ªán t·∫°i trong gi·ªè h√†ng
    let total = 0;

    // Hi·ªÉn th·ªã s·∫£n ph·∫©m trong gi·ªè h√†ng
    cart.forEach(item => {
        const li = document.createElement('li');
        li.className = 'flex justify-between items-center text-sm text-gray-600';
        
        li.innerHTML = `
            <span>${item.name} - ${item.quantity} x ${item.price.toLocaleString()} VNƒê</span>
            <button onclick="removeFromCart('${item.name}')" class="text-white bg-red-500 hover:bg-red-600 px-3 py-1 rounded-lg transition duration-200 transform hover:scale-110">
                X√≥a
            </button>
        `;

        cartItems.appendChild(li);
        total += item.price * item.quantity;
    });

    // N·∫øu gi·ªè h√†ng tr·ªëng
    if (cart.length === 0) {
        cartItems.innerHTML = '<li class="text-lg text-gray-500 italic">Gi·ªè h√†ng ƒëang tr·ªëng</li>';
    }

    // C·∫≠p nh·∫≠t t·ªïng ti·ªÅn
    cartTotal.textContent = total.toLocaleString();
}


document.getElementById('checkout-form').addEventListener('submit', function(event) {
    const fullName = document.getElementById('full-name').value.trim();
    const phoneNumber = document.getElementById('phone-number').value.trim();
    const accountNumber = document.getElementById('account-number').value.trim();
    const email = document.getElementById('email').value.trim();

    if (!fullName || !phoneNumber || !accountNumber || !email) {
        event.preventDefault(); // NgƒÉn kh√¥ng cho g·ª≠i form
        alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin tr∆∞·ªõc khi g·ª≠i!');
    } else {
        alert('Form ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!');
    }
});

document.addEventListener('DOMContentLoaded', function () {
    const invoiceList = document.getElementById('invoice-list');
    let invoiceHistory = JSON.parse(localStorage.getItem('invoiceHistory')) || [];

    console.log("Danh s√°ch h√≥a ƒë∆°n t·ª´ localStorage:", invoiceHistory);

    // N·∫øu kh√¥ng c√≥ h√≥a ƒë∆°n n√†o
    if (invoiceHistory.length === 0) {
        invoiceList.innerHTML = '<li class="text-gray-500 italic">Kh√¥ng c√≥ h√≥a ƒë∆°n n√†o.</li>';
        return;
    }

    // Hi·ªÉn th·ªã danh s√°ch h√≥a ƒë∆°n
    invoiceHistory.forEach((invoice, index) => {
        const li = document.createElement('li');
        li.className = 'border p-4 mb-2 rounded-lg shadow-sm hover:bg-gray-50 cursor-pointer';

        li.innerHTML = `
            <span><strong>H√≥a ƒë∆°n:</strong> ${index + 1}</span><br>
            <span><strong>M√£ h√≥a ƒë∆°n:</strong> ${invoice.id}</span><br>
            <span><strong>Kh√°ch h√†ng:</strong> ${invoice.buyer.name}</span><br>
            <span><strong>Email:</strong> ${invoice.buyer.email}</span><br>
            <span><strong>Ng√†y:</strong> ${new Date(invoice.date).toLocaleString()}</span>
            <button class="view-invoice-btn bg-blue-500 text-white px-3 py-1 rounded-lg ml-4" data-index="${index}">
                Xem chi ti·∫øt
            </button>
        `;

        invoiceList.appendChild(li);
    });

    // G·∫Øn s·ª± ki·ªán m·ªü chi ti·∫øt h√≥a ƒë∆°n
    document.querySelectorAll('.view-invoice-btn').forEach(button => {
        button.addEventListener('click', function () {
            const index = this.getAttribute('data-index');
            localStorage.setItem('currentInvoice', index);
            window.location.href = 'invoice-details.html';
        });
    });
});

</script>
</head>
</html>